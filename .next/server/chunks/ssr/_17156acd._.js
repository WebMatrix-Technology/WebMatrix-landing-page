module.exports=[92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},19032,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"";async function c(a,d={},e){let f=new Headers(d.headers||{});f.set("Accept","application/json"),d.body instanceof FormData||f.set("Content-Type","application/json"),e&&f.set("Authorization",`Bearer ${e}`);let g={...d,headers:f};"GET"!==d.method&&d.method||(g.cache="no-store");let h=await fetch(`${b}${a}`,g);if(!h.ok){let a=h.statusText;try{let b=await h.json();a=b?.error||a}catch{}throw Error(a||"Request failed")}if(204!==h.status)return h.json()}a.s(["apiRequest",()=>c])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],24669)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(99570),f=a.i(19032),g=a.i(55021),h=a.i(96221);let i=(0,a.i(70106).default)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);var j=a.i(4720),k=a.i(92258),l=a.i(24669),m=a.i(41710),n=a.i(32860),o=a.i(46842),p=a.i(23292),q=a.i(38246);function r(){let{getAccessToken:a}=(0,g.useAdminAuth)(),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!0),v=(0,c.useCallback)(async()=>{u(!0);try{let b=await a();if(!b)throw Error("Session expired. Please log in again.");let c=await (0,f.apiRequest)("/api/dashboard",{},b);s(c)}catch(b){let a=b instanceof Error?b.message:"Failed to load dashboard stats.";console.error("Dashboard fetch error:",b),a.includes("Not found")||a.includes("404")?p.toast.error("Dashboard API endpoint not found. Please ensure the server is running."):p.toast.error(a),s({projects:{total:0,today:0},posts:{total:0,today:0},leads:{total:0,today:0,thisWeek:0},recent:{projects:[],posts:[],leads:[]}})}finally{u(!1)}},[a]);(0,c.useEffect)(()=>{v()},[v]);let w=a=>{let b=new Date(a),c=new Date().getTime()-b.getTime(),d=Math.floor(c/6e4),e=Math.floor(c/36e5),f=Math.floor(c/864e5);return d<1?"Just now":d<60?`${d}m ago`:e<24?`${e}h ago`:f<7?`${f}d ago`:b.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return t?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-display",children:"Dashboard"}),(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading dashboard..."})]})]}):r?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-display",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Overview of your content and leads"})]}),(0,b.jsx)(e.Button,{onClick:v,variant:"outline",size:"sm",children:"Refresh"})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(d.Card,{className:"border-border/50 hover:border-primary/50 transition-colors",children:(0,b.jsxs)(d.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(i,{className:"h-6 w-6 text-primary"})}),(0,b.jsx)(q.default,{href:"/admin/projects",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4"})})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Projects"}),(0,b.jsx)("p",{className:"text-3xl font-bold",children:r.projects.total}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[r.projects.today," added today"]})]})]})]})}),(0,b.jsx)(d.Card,{className:"border-border/50 hover:border-primary/50 transition-colors",children:(0,b.jsxs)(d.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-accent/10 flex items-center justify-center",children:(0,b.jsx)(j.FileText,{className:"h-6 w-6 text-accent"})}),(0,b.jsx)(q.default,{href:"/admin/posts",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4"})})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Blog Posts"}),(0,b.jsx)("p",{className:"text-3xl font-bold",children:r.posts.total}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[r.posts.today," added today"]})]})]})]})}),(0,b.jsx)(d.Card,{className:"border-border/50 hover:border-primary/50 transition-colors",children:(0,b.jsxs)(d.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-success/10 flex items-center justify-center",children:(0,b.jsx)(k.Mail,{className:"h-6 w-6 text-success"})}),(0,b.jsx)(q.default,{href:"/admin/leads",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4"})})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Leads"}),(0,b.jsx)("p",{className:"text-3xl font-bold",children:r.leads.total}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[r.leads.thisWeek," this week"]})]})]})]})})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4",children:[(0,b.jsxs)(d.Card,{className:"border-border/50",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(i,{className:"h-5 w-5"}),"Recent Projects"]})}),(0,b.jsx)(d.CardContent,{children:0===r.recent.projects.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No projects yet"}):(0,b.jsxs)("div",{className:"space-y-3",children:[r.recent.projects.map(a=>(0,b.jsx)("div",{className:"flex items-start justify-between gap-2 pb-3 border-b border-border/30 last:border-0 last:pb-0",children:(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3"}),w(a.created_at)]})]})},a.id)),(0,b.jsx)(q.default,{href:"/admin/projects",children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"w-full mt-2",children:["View All ",(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4 ml-1"})]})})]})})]}),(0,b.jsxs)(d.Card,{className:"border-border/50",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(j.FileText,{className:"h-5 w-5"}),"Recent Posts"]})}),(0,b.jsx)(d.CardContent,{children:0===r.recent.posts.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No posts yet"}):(0,b.jsxs)("div",{className:"space-y-3",children:[r.recent.posts.map(a=>(0,b.jsx)("div",{className:"flex items-start justify-between gap-2 pb-3 border-b border-border/30 last:border-0 last:pb-0",children:(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3"}),w(a.created_at)]})]})},a.id)),(0,b.jsx)(q.default,{href:"/admin/posts",children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"w-full mt-2",children:["View All ",(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4 ml-1"})]})})]})})]}),(0,b.jsxs)(d.Card,{className:"border-border/50",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(k.Mail,{className:"h-5 w-5"}),"Recent Leads"]})}),(0,b.jsx)(d.CardContent,{children:0===r.recent.leads.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No leads yet"}):(0,b.jsxs)("div",{className:"space-y-3",children:[r.recent.leads.map(a=>(0,b.jsx)("div",{className:"flex items-start justify-between gap-2 pb-3 border-b border-border/30 last:border-0 last:pb-0",children:(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,b.jsx)(o.User,{className:"h-3 w-3 text-muted-foreground shrink-0"}),(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name})]}),(0,b.jsx)("a",{href:`mailto:${a.email}`,className:"text-xs text-muted-foreground hover:text-primary transition-colors truncate block",children:a.email}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3"}),w(a.created_at)]})]})},a.id)),(0,b.jsx)(q.default,{href:"/admin/leads",children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"w-full mt-2",children:["View All ",(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4 ml-1"})]})})]})})]})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-display",children:"Dashboard"}),(0,b.jsx)(d.Card,{className:"border-border/50",children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Failed to load dashboard data."}),(0,b.jsx)(e.Button,{onClick:v,className:"mt-4",variant:"outline",children:"Retry"})]})})]})}a.s(["default",()=>r],10179)}];

//# sourceMappingURL=_17156acd._.js.map